"use strict";(self.webpackChunkunison=self.webpackChunkunison||[]).push([[13],{5013:function(e,t,r){r.r(t);var n=r(7313),a=r(3984),l=r(1113),i=r(9099),o=r(9536),c=r(9666),m=r(4256),s=r(1405),u=r(8467),p=r(3858),d=r(9965),f=r(1001),h=r(6735),g=function(){return g=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},g.apply(this,arguments)},y=function(e,t,r,n){return new(r||(r=Promise))((function(a,l){function i(e){try{c(n.next(e))}catch(t){l(t)}}function o(e){try{c(n.throw(e))}catch(t){l(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}c((n=n.apply(e,t||[])).next())}))},E=function(e,t){var r,n,a,l,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function o(o){return function(c){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,o[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(c){o=[6,c],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},Z=function(e,t,r){if(r||2===arguments.length)for(var n,a=0,l=t.length;a<l;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))};t.default=function(){var e,t=(0,u.s0)(),r=(0,u.UO)().id,b=(0,d.Z)(),x=b.getProject,v=b.applyCollab,w=(0,n.useState)(!1),q=(w[0],w[1]),N=(0,n.useState)({serverId:"",description:"",projectStatus:0,collabStatus:0,server:{id:"",name:"",owner:!1,permissions:"",_id:""},roleId:""}),j=N[0],C=N[1],S=(0,n.useState)({projectId:"",collabType:0,format:1,openedSpots:1,description:"",requestBy:{projectName:"",oneTimeReq:""},expiretime:24,expiretimemin:0}),k=S[0],B=S[1],T=(0,n.useState)([]),P=T[0],R=T[1];(0,n.useEffect)((function(){y(void 0,void 0,void 0,(function(){var e,n;return E(this,(function(a){switch(a.label){case 0:return q(!0),[4,x(r)];case 1:return e=a.sent().data,q(!1),e.project.length?(n=Z([],e.myProject,!0),C(e.project[0]),B(g(g({},k),{projectId:e.project[0]._id,requestBy:g(g({},k.requestBy),{projectName:n[0].id})})),R(n),[2]):[2,t("..")]}}))}))}),[]);return n.createElement(n.Fragment,null,n.createElement(a.Z,{gap:4},n.createElement(a.Z,{direction:"row",gap:"12px",sx:{cursor:"pointer"},onClick:function(){t("..")}},n.createElement(l.Z,{color:"grey.100"},"<"),n.createElement(l.Z,{color:"grey.100"},"Go Back")),n.createElement(a.Z,{direction:"row",justifyContent:"space-between"},n.createElement(a.Z,{gap:"14px"},n.createElement(l.Z,{color:"text.primary",sx:{fontSize:24,fontWeight:600}},"Apply For Collaboration"),n.createElement(l.Z,{color:"text.secondary",sx:{fontSize:14,fontWeight:400}},"Fill Your Collaboration Details")),n.createElement(a.Z,{justifyContent:"center"},n.createElement(i.Z,{variant:"contained",color:"primary",size:"medium",disabled:!(k.projectId&&k.collabType&&k.format&&k.openedSpots&&k.requestBy.projectName)||"other"===k.requestBy.projectName&&!k.requestBy.oneTimeReq,onClick:function(){return y(void 0,void 0,void 0,(function(){return E(this,(function(e){switch(e.label){case 0:return q(!0),0==k.expiretime&&0==k.expiretimemin?((0,h.Z)({message:"Error!",content:"Minimum Raffle Duration: 10 Minutes",color:"error",variant:"alert",vertical:"top",horizontal:"right",transition:"SlideLeft"}),[2]):[4,v(k)];case 1:return e.sent().data,q(!1),t("../my_collabs"),[2]}}))}))}},"Apply For Collab"))),n.createElement(o.Z,null),n.createElement(a.Z,{gap:4,sx:{"& .req-title":{fontWeight:600,fontSize:16,color:"text.primary"},"& .req-small-tle":{fontWeight:400,fontSize:14,color:"text.secondary"},"& .req-input":{width:454}}},n.createElement(a.Z,{direction:"row",gap:9.5},n.createElement(a.Z,{gap:1,width:198},n.createElement(l.Z,{className:"req-title"},"Project *"),n.createElement(l.Z,{className:"req-small-tle"},"Your Future Collab Partner")),n.createElement(a.Z,{justifyContent:"center"},n.createElement(c.Z,{hiddenLabel:!0,value:null===(e=j.server)||void 0===e?void 0:e.name,disabled:!0,className:"req-input",size:"small"}))),n.createElement(a.Z,{direction:"row",gap:9.5},n.createElement(a.Z,{gap:1,width:198},n.createElement(l.Z,{className:"req-title"},"Requested By*"),n.createElement(l.Z,{className:"req-small-tle"},"Your project name")),n.createElement(a.Z,{justifyContent:"center"},n.createElement(m.Z,{id:"demo-simple-select",value:k.requestBy.projectName,sx:{height:40},className:"req-input",onChange:function(e){B(g(g({},k),{requestBy:g(g({},k.requestBy),{projectName:e.target.value})}))}},P.map((function(e){return n.createElement(s.Z,{key:e.id,value:e.id},e.name)}))),n.createElement(c.Z,{rows:2,multiline:!0,fullWidth:!0,disabled:"other"!==k.requestBy.projectName,sx:{display:"other"===k.requestBy.projectName?"block":"none"},value:k.requestBy.oneTimeReq,variant:"outlined",className:"req-input",inputProps:{maxLength:160},onChange:function(e){B(g(g({},k),{requestBy:g(g({},k.requestBy),{oneTimeReq:e.target.value})}))}}))),n.createElement(a.Z,{direction:"row",gap:9.5},n.createElement(a.Z,{gap:1,width:198},n.createElement(l.Z,{className:"req-title"},"Collab Type *"),n.createElement(l.Z,{className:"req-small-tle"},"Whitelist or other collab type")),n.createElement(a.Z,{justifyContent:"center"},n.createElement(m.Z,{id:"demo-simple-select",value:k.collabType,sx:{height:40},className:"req-input",onChange:function(e){B(g(g({},k),{collabType:Number(e.target.value)}))}},p.ms.map((function(e){return n.createElement(s.Z,{key:e.id,value:e.id},e.name)}))))),3!==k.collabType?n.createElement(n.Fragment,null,n.createElement(a.Z,{direction:"row",gap:9.5},n.createElement(a.Z,{gap:1,width:198},n.createElement(l.Z,{className:"req-title"},"Format *"),n.createElement(l.Z,{className:"req-small-tle"},"Format of whitelist collab")),n.createElement(a.Z,{justifyContent:"center"},n.createElement(m.Z,{id:"demo-simple-select",value:k.format,sx:{height:40},className:"req-input",onChange:function(e){B(g(g({},k),{format:Number(e.target.value)}))}},p.bk.map((function(e){return n.createElement(s.Z,{key:e.id,value:e.id},e.name)}))))),n.createElement(a.Z,{direction:"row",gap:9.5},n.createElement(a.Z,{gap:1,width:198},n.createElement(l.Z,{className:"req-title"},"Opened Spots*"),n.createElement(l.Z,{className:"req-small-tle"},"Format of whitelist collab")),n.createElement(a.Z,{justifyContent:"center"},n.createElement(c.Z,{hiddenLabel:!0,value:k.openedSpots,type:"number",InputProps:{inputProps:{min:1,max:999}},className:"req-input",size:"small",onChange:function(e){Number(e.target.value)>0&&Number(e.target.value)<1e3&&B(g(g({},k),{openedSpots:Number(e.target.value)}))}})))):null,n.createElement(a.Z,{direction:"row",gap:9.5},n.createElement(a.Z,{gap:1,width:198},n.createElement(l.Z,{className:"req-title"},"Announcement Description *"),n.createElement(l.Z,{className:"req-small-tle"},"Discord Announcement Text")),n.createElement(a.Z,null,n.createElement(f.Z,{style:{font:"inherit",letterSpacing:"inherit",boxSizing:"content-box",background:"none",height:"2.4375em",margin:"0",display:"block",minWidth:"0",width:"423px",animationDuration:"10ms",paddingTop:"1px",color:"#54577A",borderRadius:"4px",padding:"8.5px 14px",overflow:"auto"},value:k.description,onChange:function(e){B(g(g({},k),{description:e.target.value}))}}))),3!==k.collabType&&2!==k.format?n.createElement(a.Z,{direction:"row",gap:9.5},n.createElement(a.Z,{gap:1,width:198},n.createElement(l.Z,{className:"req-title"},"Raffle Duration*"),n.createElement(l.Z,{className:"req-small-tle"},"Active duration for Raffle")),n.createElement(a.Z,{justifyContent:"space-between",flexDirection:"row"},n.createElement(a.Z,{flexDirection:"row",alignItems:"center"},n.createElement(a.Z,null,n.createElement(l.Z,{className:"req-small-tle"},"HH")),n.createElement(m.Z,{id:"hhdemo-simple-select",value:k.expiretime,sx:{width:90,height:42,borderRadius:"6px",padding:"12px 18px 12px 24px",border:"1px solid #000000","& .MuiPaper-root":{width:90,ml:"95px"},"& .MuiSelect-select":{margin:0,padding:"0 !important"}},onChange:function(e){B(g(g({},k),{expiretime:Number(e.target.value)}))}},function(){for(var e=[],t=0;t<=100;t++)e.push({id:t,name:t>9?t+"":"0"+t});return e}().map((function(e){return n.createElement(s.Z,{key:e.id,value:e.id},e.name)})))),n.createElement(a.Z,{flexDirection:"row",alignItems:"center"},n.createElement(a.Z,null,n.createElement(l.Z,{className:"req-small-tle"},"MM")),n.createElement(m.Z,{id:"mmdemo-simple-select",value:k.expiretimemin,sx:{width:90,height:42,marginLeft:"10px",borderRadius:"6px",padding:"12px 18px 12px 24px",border:"1px solid #000000","& .MuiPaper-root":{width:90,ml:"95px"},"& .MuiSelect-select":{margin:0,padding:"0 !important"}},onChange:function(e){B(g(g({},k),{expiretimemin:Number(e.target.value)}))}},p.Yt.map((function(e){return n.createElement(s.Z,{key:e.id,value:e.id},e.name)})))))):null)))}}}]);